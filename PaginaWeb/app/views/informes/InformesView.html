{% extends "base.html" %}
{% block title %}
Gestion de Informes
{% endblock %}
{% block main %}
<div class="container mt-5">
  <h2 class="titulo-tabla mb-5">Informes</h2>
  <form action="filtros" method="post">
    <div class="form-row">
      <div class="form-group required col-lg-4">
        <label class="control-label" for="fechaInicio">Fecha Inicio:</label>
        <input type="date" name="start" id="fechaInicio" class="form-control" max="{{ "now"|date("Y-m-d") }}" required>
      </div>
      <div class="form-group required col-lg-4">
        <label class="control-label" for="fechaFin">Fecha Fin:</label>
        <input type="date" name="end" id="fechaFin" class="form-control" max="{{ "now"|date("Y-m-d") }}" required>
      </div>
      <div class="form-group required col-lg-4">
        <label class="control-label" for="chartType">Tipo de Gráfico:</label>
        <select name="tipo" id="chartType" class="form-control custom-select">
          <option disabled selected>Seleccione una opcion</option>
          <option value="line">Línea</option>
          <option value="bar">Barra</option>
          <option value="pie">Torta</option>
          <option value="doughnut">Dona</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group required col-lg-6">
        <label class="control-label" for="dataset">Dataset:</label>
        <select name="dataset" id="dataset" class="form-control custom-select" required>
          <option disabled selected>Seleccione una opcion</option>
          <option value="especializacion">Especializaciones</option>
          <option value="oc">Orden de Compra</option>
          <option value="ot">Orden de Trabajo</option>
          <option value="pedido">Pedidos</option>
          <option value="sector">Sectores</option>
        </select>
      </div>
      <div class="form-group required col-lg-6">
        <label class="control-label" for="subdataset">Subdataset:</label>
        <select name="subdataset" id="subdataset" class="form-control custom-select" required>
          <option disabled selected>Seleccione una opcion</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-lg-6">
        <label class="control-label" for="title">Título:</label>
        <input type="text" name="title" id="title" class="form-control">
      </div>
      <div class="form-group col-lg-6">
        <label class="control-label" for="subtitle">Subtitulo:</label>
        <input type="text" name="subtitle" id="subtitle" class="form-control">
      </div>
    </div>
    <div class="row justify-content-center mb-4">
      <button type="submit" class="btn btn-success mx-2">Filtrar</button>
    </div>
  </form>
  <div id="container-canvas" class="">
    <canvas id="canvasSingle" class="p-2"></canvas>
    <div class="row justify-content-center my-4">
      <button type="button" id="btn-download" class="btn btn-primary mx-2">Descargar</button>
      <button type="button" id="btn-print" class="btn btn-primary mx-2">Imprimir</button>
    </div>
  </div>
</div>
{% endblock %}
{% block javascripts %}
{{ parent() }}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.4.1/chart.min.js"
  integrity="sha512-5vwN8yor2fFT9pgPS9p9R7AszYaNn0LkQElTXIsZFCL7ucT8zDCAqlQXDdaqgA1mZP47hdvztBMsIoFxq/FyyQ=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.4.1/tinycolor.min.js"></script>
<script src="/public/js/jsBasicos/jsInformes.js" type="module"></script>
{% endblock %}